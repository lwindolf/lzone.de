(()=>{var e,t,n,a,i,s,r={855:(e,t,n)=>{var a={"./Catalog.js":[99,99],"./Chat.js":[388],"./Checks.js":[943],"./Content.js":[913],"./Discover.js":[805,805],"./FeedReader.js":[845,845],"./Feeds.js":[849,849],"./FileBrowser.js":[734,734],"./Folder.js":[546,546],"./Home.js":[6],"./Settings.js":[491,491],"./Sidebar.js":[216],"./renderers/CheatSheet.js":[209],"./renderers/Pdf.js":[965]};function i(e){if(!n.o(a,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],i=t[0];return Promise.all(t.slice(1).map(n.e)).then((()=>n(i)))}i.keys=()=>Object.keys(a),i.id=855,e.exports=i},755:e=>{function t(e){return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}t.keys=()=>[],t.resolve=t,t.id=755,e.exports=t},487:(e,t,n)=>{"use strict";n.d(t,{V:()=>o});var a=n(963),i=n(913),s=n(388),r=n(489);class o{constructor(e){const t=document.getElementById(e);t.focus(),t.addEventListener("keydown",(async e=>{if("Enter"===e.key||13===e.keyCode){if(window.location.hash="/-/CLI","!"==t.value[0]){const e=t.value.slice(1);o.#e(e)}else if("?"==t.value[0]){const e=t.value.slice(1);s.ChatView.submitPrompt(e)}else r.v.selectResult();t.value="",e.preventDefault()}else"Escape"===e.key||27===e.keyCode?i.ContentView.hideSearch():t.value.length>1&&"!"!=t.value[0]&&"?"!=t.value[0]&&i.ContentView.showSearch()})),document.addEventListener("keydown",(function(e){e.ctrlKey&&75===e.keyCode&&(o.#t(),e.preventDefault())}))}static#t=()=>document.getElementById("search-input").focus();static#e=async e=>{const[t,n]=await a.T.run(e);s.ChatView.addToolResult(e,n,t)}}},809:(e,t,n)=>{"use strict";n.d(t,{t:()=>i});var a=n(217);class i{fresh=!1;static#n;static#a=new Map;constructor(e,t){i.#a.set(e,t),i.#n||(i.#n=document.addEventListener("contextmenu",(e=>{let t=e.target;for(;t&&(!t.id||!i.#a.has(t.id));)t=t.parentElement;t&&t.id&&i.#a.has(t.id)&&(e.preventDefault(),this.createMenu(t,e,i.#a.get(t.id)))}))),document.addEventListener("click",(()=>this.checkRemove())),document.addEventListener("auxclick",(()=>this.checkRemove()))}checkRemove(){this.fresh?this.fresh=!1:document.querySelectorAll(".context-menu").forEach((e=>e.remove()))}createMenu(e,t,n){this.checkRemove(e);const i=t.target.closest(".context-node");i&&(this.fresh=!0,this.menu=document.createElement("div"),this.menu.className="context-menu",n.forEach((e=>{if(e.type&&i.dataset.type!==e.type)return;const t=document.createElement("div");t.className="context-menu-item",t.textContent=e.label,t.addEventListener("click",(()=>a.r.dispatch(e.action,i.dataset))),this.menu.appendChild(t)})),this.menu.style.setProperty("--mouse-x",t.pageX+"px"),this.menu.style.setProperty("--mouse-y",t.pageY+"px"),this.menu.style.display="block",e.appendChild(this.menu))}hide(){this.menu.style.display="none"}}},870:(e,t,n)=>{"use strict";n.a(e,(async(e,a)=>{try{n.d(t,{q:()=>f});var i=n(487),s=n(963),r=n(991),o=n(216),d=n(489),c=n(913),l=n(943),u=n(925),h=n(584),m=n(470),p=n(454),g=e([o,u,p]);[o,u,p]=g.then?(await g)():g;class f{static#i(){let e={};try{let t,n=/\+/g,a=/([^&=]+)=?([^&]*)/g,i=function(e){return decodeURIComponent(e.replace(n," "))};for(;t=a.exec(window.location.hash.substring(1));)e[i(t[1])]=i(t[2])}catch(e){console.log("Invalid parameter encoding! "+e)}return e}static#s(){if(window.location.hash.length>2){if("/"!=window.location.hash[1])return;if("/"==window.location.hash.substring(1,2)){const e=f.getPath();return f.#r(e),void c.ContentView.render(e)}console.warn("Unknown location hash format: "+window.location.hash)}else f.#r("")}static getPath=()=>Object.keys(f.#i())[0].substring(1);static#o=e=>document.getElementById("breadcrumb-nav").innerHTML=""===e?"":'<li class="breadcrumb-nav-list-item"><a href="/"><svg viewBox="0 0 24 24"><use xlink:href="#svg-home"></use></svg></a></li>'+e.split(/\//).reverse().map(((t,n,a)=>"-"===t?"":0==n?`<li class="breadcrumb-nav-list-item"><span>${decodeURIComponent(t)}</span></li>`:`<li class="breadcrumb-nav-list-item"><a href="#/${e.split(/\//).slice(0,a.length-n).join("/")}">${decodeURIComponent(t)}</a></li>`)).reverse().join(" ");static#r(e){this.#o(e),o.Sidebar.selectionChanged(e)}static async load(){"serviceWorker"in navigator&&navigator.serviceWorker.register("/worker.js").then((e=>{console.log("ServiceWorker registration successful with scope: ",e.scope)})).catch((e=>{console.error("ServiceWorker registration failed: ",e)})),window.app={ChecksView:new l.ChecksView(document.getElementById("toolpanel")),CLI:new i.V("search-input"),Commands:s.T,ContentView:new c.ContentView(document.getElementById("main-content-wrap")),debug:!1,FeedReader:p._,Layout:new r.P,Sidebar:new o.Sidebar(document.getElementById("site-nav"))},await u.m.update(),window.addEventListener("hashchange",this.#s),this.#s(),d.v.init(),(0,m.qm)("body",(e=>112===e.keyCode),(()=>new h.Q))}}f.load(),a()}catch(e){a(e)}}))},963:(e,t,n)=>{"use strict";n.d(t,{T:()=>o});var a=n(388),i=n(662),s=n(551),r=n(846);class o{static commands={help:{syntax:"help",summary:"Show this help again",func:()=>["text",this.help()]},base64:{syntax:"base64 [-d] <string>",summary:"string <-> base64",func:e=>"-d"!==e[1]?["text",btoa(e[2])]:["text",atob(e[1])]},cw:{syntax:"cw",summary:"Print calendar weeks",func:()=>{const e=new Date,t=e=>{const t=new Date(e);return t.setDate(t.getDate()+3),Math.ceil(Math.ceil((t.getTime()-new Date(t.getFullYear(),0,1).getTime())/864e5)/7)};return["text",`Current week is ${t(e)}\n\nFollowing weeks are:\n`+Array.from({length:10},((e,t)=>t+1)).map((n=>{const a=new Date(e);return a.setDate(a.getDate()+(1-a.getDay())),a.setDate(a.getDate()+7*n),`week ${t(a)} --- Monday ${a.toLocaleDateString()}`})).join("\n")]}},cat:{syntax:"cat <filename>",summary:"Read file from OPFS",func:async e=>{const t=e[1],n=await navigator.storage.getDirectory();try{const e=await n.getFileHandle(t),a=await e.getFile();return["text",await a.text()]}catch(e){return["text",`ERROR: File ${t} not found.`]}}},curl:{syntax:"curl <URL> [>filename.ext]",summary:"Fetch URL using CORS proxy and optionally save to OPFS",func:async e=>{const t=e[1],n=await(0,r.F)(t);if(!n.ok)return["text",`ERROR: ${n.status} ${n.statusText}`];const a=await n.text();if(e[2]&&e[2].startsWith(">")){const t=e[2].substring(1).trim(),n=await navigator.storage.getDirectory(),i=await n.getFileHandle(t,{create:!0}),s=await i.createWritable();return await s.write(a),await s.close(),["text",`Saved to ${t}`]}return["text",a]}},date:{syntax:"date <epoch>",summary:"epoch -> date",func:(e,t)=>["text",new Date(parseInt(t))]},epoch:{syntax:"epoch <date>",summary:"date -> epoch",func:(e,t)=>{const n=new Date(t).getTime();return["text",`Epoch [ms] : ${n}\nUnix epoch : ${n/1e3}`]}},ip:{syntax:"ip",summary:"Print IP (https://ifconfig.me)",func:async()=>{const e=await fetch("https://ifconfig.me/all.json"),t=await e.json();return console.log(t),["text",t.ip_addr]}},ipcalc:{syntax:"ipcalc <CIDR>",summary:"Calculate address range",func:e=>{const t=this.#d(e[1]);return["text",`Base      : ${t[0]}\nBroadcast : ${t[1]}`]}},ls:{syntax:"ls",summary:"List all files/directories in the OPFS root",func:async()=>{const e=await navigator.storage.getDirectory(),t=[];for await(const[n,a]of e.entries())t.push(`${"directory"===a.kind?"üìÅ":"üìÑ"} ${n}`);return 0===t.length?["text","No entries in OPFS found."]:["text",t.sort().join("\n")]}},mkdir:{syntax:"mkdir <dirname>",summary:"Create directory in OPFS root",func:async e=>{const t=e[1],n=await navigator.storage.getDirectory();try{return await n.getDirectoryHandle(t,{create:!0}),["text",`Created directory ${t}`]}catch(e){return["text",`ERROR: Could not create directory ${t}.`]}}},mkpasswd:{syntax:"mkpasswd [<len>] [<chars>]",summary:"Random password",func:e=>["text",this.#c(e[1]?parseInt(e[1]):void 0,e[2])]},qr:{syntax:"qr <URL>",summary:"Create QR code",func:(e,t)=>["html",`<img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURI(t)}"/>`]},rm:{syntax:"rm <filename>",summary:"Remove file from OPFS",func:async e=>{const t=e[1],n=await navigator.storage.getDirectory();try{return await n.removeEntry(t),["text",`Removed ${t}`]}catch(e){return["text",`ERROR: File ${t} not found.`]}}},si:{syntax:"si <value MB>",summary:"Print power 2 values",func:e=>{const t=parseInt(e[1]);return["text",`${1024*t} KiB\n${t/1024} GiB\n${t/1024/1024} TiB`]}},setting:{syntax:"setting <name>",summary:"Get a setting value",func:async e=>["text",JSON.stringify(await s.w.get(e[1],""))]},weather:{syntax:"weather",summary:"Embed weather map",func:()=>(document.getElementById("CommandsViewEmbed")?.remove(),a.ChatView.addToolResult("weather",'<div id="CommandsViewEmbed">Loading weather widget...</div>',"html"),navigator.geolocation.getCurrentPosition((e=>{const t=e.coords;console.log("Your current position is:"),console.log(`Latitude : ${t.latitude}`),console.log(`Longitude: ${t.longitude}`),console.log(`More or less ${t.accuracy} meters.`);const n=e.coords.latitude,a=e.coords.longitude;document.getElementById("CommandsViewEmbed").innerHTML=`<iframe frameborder="0" src="https://imweather.com/widget/map?lat=${n}&lng=${a}&z=6.20&model=nowcast&element=radar_obs&values=true" style="height:400px;width:100%;max-width:640px;"></iframe>`}),(e=>{document.getElementById("CommandsViewEmbed").innerHTML=`Fetching Geo position failed (Error ${e.code}: ${e.message})!`}),{enableHighAccuracy:!1,timeout:2e4,maximumAge:100}),[void 0,void 0])},webamp:{syntax:"webamp",summary:"Embed music player",func:()=>{if(document.getElementById("webampApp"))window.webamp.reopen();else{const e=document.createElement("div");e.id="webampApp",document.body.appendChild(e),i.u.get("lib_webamp").then((()=>{const e=document.getElementById("webampApp");window.webamp=new Webamp,window.webamp.renderWhenReady(e)}))}return["text","Opening webamp."]}}};static register(e){o.commands={...o.commands,...e}}static isValid=e=>Object.hasOwn(o.commands,e.split(/\s+/)[0]);static help=()=>"Syntax:\n\n    <query>             # Search all cheat sheets\n    ?<query>            # Perform a chat bot query\n    !<command>          # Run a command\n\nCommands:\n\n"+Object.entries(o.commands).sort(((e,t)=>e[0].localeCompare(t[0]))).map((e=>"    "+e[1].syntax+" ".repeat(30-e[1].syntax.length)+" # "+e[1].summary)).join("\n");static#c(e,t){if(void 0===e)e=32;else if(!Number.isInteger(e)||e<=0)throw new Error("len must be a positive integer");if(void 0===t)t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789√§√º√∂√Ñ√ú√ñ_-+=/¬∞^`'\"|#@!.";else{if("string"!=typeof t)throw new Error("chars must be a string");if(t.length>256)throw new Error("chars must be <= 256")}const n=256-256%t.length;let a,i="";for(let s=0;s<e;s++){do{a=window.crypto.getRandomValues(new Uint8Array(1))[0]}while(a>=n);i+=t[a%t.length]}return i}static#d(e){var t=e.split("/"),n=t[0].split("."),a=["0","0","0","0"],i=(a=/\d+\.\d+\.\d+\.\d+/.test(t[1])?t[1].split(".").map((function(e){return parseInt(e,10)})):(a=("1".repeat(parseInt(t[1],10))+"0".repeat(32-parseInt(t[1],10))).match(/.{1,8}/g)).map((function(e){return parseInt(e,2)}))).map((function(e){return 255^e})),s=n.map((function(e,t){return e&a[t]})),r=s.map((function(e,t){return e|i[t]}));return[s.join("."),r.join(".")]}static async run(e){try{const t=e.split(/\s/),n=e.substring(t[0].length);return void 0===o.commands[t[0]]?["text","Unknown command"]:await o.commands[t[0]].func(t,n)}catch(e){return["text",`ERROR: Exception (${e})`]}}}},584:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s});var a=n(779);class i{#l;#u;#h;#m;#p;#g;#f;constructor(e,t,n){this.#l=document.getElementById("modal"),this.#u=document.getElementById("modalContent"),this.#m=(0,a.vs)(e),this.#h=n,this.#l.style.display="block",this.#u.innerHTML=this.#m(t),this.#l.addEventListener("click",this.#p=e=>{"modal"===e.target.id&&(this.destroy(),e.preventDefault())}),this.#l.addEventListener("submit",this.#g=e=>{this.#w(),e.preventDefault()}),document.addEventListener("keydown",this.#f=e=>{"Escape"===e.code&&(this.destroy(),e.preventDefault())})}#w(){var e={};[...this.#u.querySelectorAll("input, select, textarea")].forEach((t=>e[t.name]=t.value)),this.#h(e).then((e=>{e&&this.destroy()}))}update(e){this.#u.innerHTML=this.#m(e)}destroy(){this.#l.style.display="none",this.#u.innerHTML="",this.#l.removeEventListener("click",this.#p),this.#l.removeEventListener("submit",this.#g),this.#l.removeEventListener("keydown",this.#f)}}class s extends i{constructor(){super("\n            <h2>Help</h2>\n\n            <h3>Keyboard</h3>\n\n            <table>\n                <tr>\n                    <td>F1</td>\n                    <td>Help</td>\n                </tr>\n                <tr>\n                    <td>Ctrl - right arrow</td>\n                    <td>Next Unread</td>\n                </tr>\n                <tr>\n                    <td>Ctrl - Shift - M</td>\n                    <td>Mark All Read</td>\n                </tr>\n                <tr>\n                    <td>Ctrl - Shift - U</td>\n                    <td>Update All</td>\n                </tr>\n            </table>\n\n            <h3>Mouse</h3>\n\n            <table>\n                <tr>\n                    <td>Left Click</td>\n                    <td>Select feed or item / Open a link</td>\n                </tr>\n                <tr>\n                    <td>Middle Click</td>\n                    <td>Toggle Unread / Mark All Read</td>\n                </tr>\n                <tr>\n                    <td>Double Click</td>\n                    <td>Open item in browser</td>\n                </tr>\n            </table>\n        ",{},(async()=>!0))}}},624:(e,t,n)=>{"use strict";n.d(t,{J:()=>u});var a=n(648),i=n(800),s=n(449),r=n(846);class o{static searches=[{type:"MS Tile",order:2,xpath:"/html/head/meta[@name='msapplication-TileImage']/@href"},{type:"Safari Mask",order:3,xpath:"/html/head/link[@rel='mask-icon']/@href"},{type:"large icon",order:0,xpath:"/html/head/link[@rel='icon' or @rel='shortcut icon'][@sizes='192x192' or @sizes='144x144' or @sizes='128x128']/@href"},{type:"small icon",order:5,xpath:"/html/head/link[@rel='icon' or @rel='shortcut icon'][@sizes]/@href"},{type:"favicon",order:8,xpath:"/html/head/link[@rel='icon' or @rel='shortcut icon' or @rel='SHORTCUT ICON'][not(@sizes)]/@href"},{type:"Apple touch",order:1,xpath:"/html/head/link[@rel='apple-touch-icon' or @rel='apple-touch-icon-precomposed'][@sizes='180x180' or @sizes='152x152' or @sizes='144x144' or @sizes='120x120']/@href"},{type:"Apple no size",order:6,xpath:"/html/head/link[@rel='apple-touch-icon' or @rel='apple-touch-icon-precomposed'][not(@sizes)]/@href"},{type:"Apple small",order:7,xpath:"/html/head/link[@rel='apple-touch-icon' or @rel='apple-touch-icon-precomposed'][@sizes]/@href"}].sort(((e,t)=>e.order-t.order));static async discover(e,t=!1){let n;try{let a=await(0,r.F)(e,{},t).then((e=>e.text())).then((e=>(new DOMParser).parseFromString(e,"text/html")));if(a){let e=a.firstChild;for(;e&&"HTML"!==e.nodeName.toUpperCase();)e=e.nextSibling;if(e)for(let t=0;t<o.searches.length&&(n=s.u.lookup(e,o.searches[t].xpath),!n);t++);}}catch{}if(n||(n=await(0,r.F)(e+"/favicon.ico",{},t).then((e=>e.text())).then((()=>e+"/favicon.ico"))),n)return n.includes("://")?n:e+"/"+n}}class d{static async fetch(e,t=!1){return console.info(`Updating ${e}`),await(0,r.F)(e,{},t).then((e=>e.text())).then((async n=>{let a=(0,i.S)(n,e);if(!a)return new u({error:u.ERROR_DISCOVER});let s=a.parse(n);if(!s)return console.error(`Failed to parse feed from ${e}`),new u({error:u.ERROR_XML});if(s.source=e,s.last_updated=Date.now()/1e3,s.error=u.ERROR_NONE,!s.icon&&s.homepage)try{s.icon=await o.discover(s.homepage,t)}catch(e){}return s})).catch((e=>(console.log(e),new u({error:u.ERROR_NET}))))}}var c=n(890),l=n(470);class u{id;error;orig_source;last_updated;etag;corsProxyAllowed=!1;newItems=[];unreadCount=0;title;source;description;icon;metadata={};static ERROR_NONE=0;static ERROR_AUTH=1;static ERROR_NET=2;static ERROR_DISCOVER=4;static ERROR_XML=8;constructor(e={}){Object.keys(e).forEach((t=>{this[t]=e[t]})),this.orig_source=this.source}serialize(){return{id:this.id,title:this.title,description:this.description,homepage:this.homepage,icon:this.icon,source:this.source,last_updated:this.last_updated,corsProxyAllowed:this.corsProxyAllowed,unreadCount:this.unreadCount,metadata:this.metadata}}async update(){if(this.last_updated&&Date.now()/1e3-this.last_updated<3600)return void console.info(`Skipping update of ${this.source} (last updated ${Math.ceil(Date.now()/1e3-this.last_updated)}s ago)`);const e=await d.fetch(this.source,this.corsProxyAllowed);if(u.ERROR_NONE==e.error){let t=0;this.title=e.title,this.source=e.source,this.homepage=e.homepage,this.description=e.description,this.metadata=e.metadata;const n=await this.getItems();this.unreadCount=n.filter((e=>!e.read)).length,e.newItems.forEach((e=>{n.find((t=>t.sourceId?t.sourceId===e.sourceId:t.source?t.source===e.source:t.title===e.title))||(t++,this.unreadCount++,e.nodeId=this.id,e.save())})),t>0&&l.JD("itemsAdded",this),e.icon&&(this.icon=this.corsProxyAllowed?`https://corsproxy.io/?${e.icon}`:e.icon)}this.last_updated=e.last_updated,this.error=e.error,l.JD("nodeUpdated",this)}forceUpdate(){this.last_updated=0,this.update()}getItems=async()=>(await a.DB.getByIndexOnly("aggregator","items","nodeId",this.id)).map((e=>new c.q({id:e.id,...e.value})));async getNextUnread(e){let t,n=0;if(!e)return;const a=await this.getItems();return a.find((t=>(n++,t.id===e))),t=a.slice(n).find((e=>!e.read)),t||a.find((e=>!e.read))}addItem(e){e.time||(e.time=Date.now()),this.newItems.push(e)}updateUnread(e){this.unreadCount+=e,this.unreadCount<0&&(this.unreadCount=0),l.JD("nodeUpdated",this)}async markAllRead(){(await this.getItems()).forEach((e=>e.setRead(!0))),this.updateUnread(-this.unreadCount)}}},461:(e,t,n)=>{"use strict";n.a(e,(async(e,a)=>{try{n.d(t,{f:()=>c});var i=n(551),s=n(753),r=n(779),o=n(470),d=e([s]);s=(d.then?(await d)():d)[0];class c{static#v=(0,r.vs)("\n        <h1 id='itemViewContentTitle'>\n            <a target='_system' href='{{feed.homepage}}'>{{feed.title}}</a>\n        </h1>\n\n        <p>\n            Source: <a target='_system' href='{{feed.source}}'>{{feed.source}}</a><br>\n        </p>\n    \n        <p>{{{feed.description}}}</p>\n\n        <div class='feedInfoError'>\n        {{#if feed.error}}\n            <div class='feedInfoErrorBox'>\n                <span>There was a problem when fetching this subscription!</span>\n                <ul>\n                    <li>\n                        {{#compare feed.error '==' 1}}‚õî{{/compare}}\n                        {{#compare feed.error '>'  1}}‚úÖ{{/compare}}\n                        <span>1. Authentication</span>\n                    </li>\n                    <li>\n                        {{#compare feed.error '==' 2}}‚õî{{/compare}}\n                        {{#compare feed.error '>'  2}}‚úÖ{{/compare}}\n                        {{#compare feed.error '<'  2}}‚¨ú{{/compare}}\n                        <span>2. Download</span>\n                    </li>\n                    <li>\n                        {{#compare feed.error '==' 4}}‚õî{{/compare}}\n                        {{#compare feed.error '>'  4}}‚úÖ{{/compare}}\n                        {{#compare feed.error '<'  4}}‚¨ú{{/compare}}\n                        <span>3. Feed Discovery</span>\n                    </li>\n                    <li>\n                        {{#compare feed.error '==' 8}}‚õî{{/compare}}\n                        {{#compare feed.error '<'  8}}‚¨ú{{/compare}}\n                        <span>4. Parsing</span>\n                    </li>\n                </ul>    \n\n                {{#unless feed.corsProxyAllowed}}\n                    {{#compare feed.error '==' 2}}\n                        <p>Downloads often do not work due to <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Guides/CORS\">CORS restrictions</a>.\n                        You might want to use the Cloudflare CORS proxy (<a href=\"https://corsproxy.io\">corsproxy.io</a>) for this feed.</p>\n                        <button class='btn' data-feed-id='{{feed.id}}' id='enableCors'>Use proxy for this feed</button>\n                        <button class='btn' id='enableCorsGlobal'>Use proxy for all feeds</button>\n                    {{/compare}}\n                {{/unless}}\n            </div>\n        {{/if}}\n        </div>\n\n        Last updated: <span class='feedLastUpdated'>{{lastUpdated}}</span><br>\n        <button class='btn' id='feedUpdate'>Update Now</button>\n    ");constructor(){document.addEventListener("nodeUpdated",(e=>{const t=document.getElementById("itemViewContent");e.detail.id==parseInt(t.dataset.id)&&"feed"===t.dataset.mode&&this.#y(e.detail.id)})),document.addEventListener("feedSelected",(e=>this.#y(e.detail.id)))}#y(e){let t=s.f.getNodeById(e);document.getElementById("itemViewContent").dataset.mode="feed",document.getElementById("itemViewContent").dataset.id=e,(0,r.XX)("#itemViewContent",c.#v,{feed:t,lastUpdated:t.last_updated?new Date(1e3*t.last_updated).toLocaleString():"never"}),o.Ng("click","#feedUpdate",(async()=>{const e=document.querySelector("#feedUpdate");e.disabled=!0,e.textContent="Updating...",await t.forceUpdate()})),o.Ng("click",".btn#enableCors",(async()=>{s.f.allowCorsProxy(t.id,!0),await t.update()})),o.Ng("click",".btn#enableCorsGlobal",(async()=>{await i.w.set("corsProxyAllowed",!0),await t.update()}))}}a()}catch(e){a(e)}}))},753:(e,t,n)=>{"use strict";n.a(e,(async(e,a)=>{try{n.d(t,{f:()=>e});var i=n(648),s=n(624),r=n(470);class e{static root={children:[]};static#b={};static maxId=1;static getNodeById=t=>t?e.#b[parseInt(t)]:void 0;static getNextUnreadNode(e){let t,n=0;return e&&(this.root.children.find((t=>(n++,t.id===e))),t=this.root.children.slice(n).find((e=>e.unreadCount>0)),t)?t:this.root.children.find((e=>e.unreadCount>0))}static#E(){i.DB.set("aggregator","tree","tree",e.root.children.map((function e(t){const n=t.serialize();return t.children&&(n.children=t.children.map(e)),n})))}static allowCorsProxy(t,n){e.#b[t].corsProxyAllowed=n,e.#E()}static async add(t,n=!0){this.root.children.push(t),t.id||(t.id=e.maxId+1),t.id>e.maxId&&(e.maxId=t.id),e.#b[t.id]=t,t.parent=e.root,n&&await t.update(),e.#E(),r.JD("feedlistUpdated",void 0)}static remove(t){let n=e.getNodeById(t);n&&(n.parent.children=n.parent.children.filter((e=>e.id!==t)),delete e.#b[t],e.#E(),r.JD("nodeRemoved",t))}static markAllRead(t){let n=e.getNodeById(t);n.children&&n.children.forEach((e=>this.markAllRead(e.id))),n.markAllRead()}static async setup(){document.addEventListener("nodeUpdated",(()=>e.#E()));for(const e of await i.DB.get("aggregator","tree","tree",window.Config.groups.Feeds.defaultFeeds))await this.add(new s.J(e),!1);i.DB.removeOrphans("aggregator","items","nodeId",Object.keys(e.#b).map((e=>parseInt(e)))),setTimeout((()=>e.update()),2e3)}static#k(e){e.children&&e.children.forEach((e=>{"Feed"===e.constructor.name?e.update():this.#k(e)}))}static update=()=>this.#k(this.root)}await e.setup(),a()}catch(e){a(e)}}),1)},454:(e,t,n)=>{"use strict";n.a(e,(async(e,a)=>{try{n.d(t,{_:()=>p});var i=n(624),s=n(753),r=n(461),o=n(902),d=n(243),c=n(662),l=n(809),u=n(217),h=n(470),m=e([s,r,o]);[s,r,o]=m.then?(await m)():m;class p{static#x="#/-/Feed/";static#C="#feedreader";static#I;static#R;static feedlist;static feedinfo;static itemlist;static itemview;static async#S(){document.querySelector(this.#C).innerHTML='\n            <div id="itemlist" tabindex="1">\n                <div id="itemlistViewContent"></div>\n            </div>\n            <div id="itemview" tabindex="2">\n                <div id="itemViewContent"></div>\n            </div>',c.u.get("Split").then((e=>{e(["#itemlist","#itemview"],{sizes:[30,70],minSize:[100,100],gutterSize:3,expandToMin:!0,direction:"vertical"})})),new l.t("sidebar",[{label:"Update",action:"feedreader:updateNode",type:"feed"},{label:"Mark Read",action:"feedreader:markRead",type:"feed"}]),new l.t("itemlist",[{label:"Open Link",action:"feedreader:openItemLink"},{label:"Toggle Read",action:"feedreader:toggleItemRead"},{label:"Toggle Star",action:"feedreader:toggleItemStar"}]),this.feedlist=new s.f,this.feedinfo=new r.f,this.itemlist=new o.k,this.itemview=new d.n,u.r.register("feedreader:addFeed",(e=>s.f.add(new i.J({source:e.source,title:e.title})))),u.r.register("feedreader:markRead",(e=>s.f.markAllRead(e.id))),u.r.register("feedreader:updateNode",(e=>s.f.update(e.id))),u.r.register("feedreader:removeNode",(e=>s.f.remove(e.id))),u.r.register("feedreader:nextUnread",(()=>this.itemlist.nextUnread())),u.r.register("feedreader:select",(e=>this.select(e.itemId,e.nodeId))),u.r.register("feedreader:toggleItemRead",(e=>this.itemlist.toggleItemRead(parseInt(e.id)))),u.r.register("feedreader:toggleItemStar",(e=>this.itemlist.toggleItemStar(parseInt(e.id)))),u.r.register("feedreader:openItemLink",(e=>this.itemlist.openItemLink(parseInt(e.id)))),u.r.register("feed:auxclick",(e=>s.f.markAllRead(e.id))),u.r.hotkey("C-A-KeyR","feedreader:markRead",this.#x,(()=>({id:this.#I}))),u.r.hotkey("C-A-KeyU","feedreader:updateNode",this.#x,(()=>({id:this.#I}))),u.r.hotkey("C-ArrowRight","feedreader:nextUnread",this.#x),window.addEventListener("hashchange",(()=>this.#L()))}static render(){this.feedlist||this.#S(),this.#L()}static#L(){const e=this.#I,t=this.#R;if(!document.location.hash.startsWith(this.#x))return;const n=document.location.hash.match(/Feed\/(?<feedId>\d+)(\/Item\/(?<itemId>\d+))?/);this.#I=n.groups.feedId?parseInt(n.groups.feedId):null,this.#R=n.groups.itemId?parseInt(n.groups.itemId):null,e==this.#I&&t==this.#R||(this.#R?h.JD("itemSelected",{feedId:this.#I,id:this.#R}):h.JD("feedSelected",{id:this.#I}))}static select(e,t=void 0){window.location.hash=`${this.#x}${e}${t?`/Item/${t}`:""}`}static selectItem(e){window.location.hash=`${this.#x}${this.#I}/Item/${e}`}}a()}catch(e){a(e)}}))},890:(e,t,n)=>{"use strict";n.d(t,{q:()=>s});var a=n(648),i=n(470);class s{id=void 0;nodeId=0;read=!1;starred=!1;title;description;time;source;sourceId;media=[];metadata={};constructor(e){Object.keys(e).forEach((t=>{this[t]=e[t]}))}addMedia(e,t,n=NaN){let a=NaN;try{a=parseInt(n,10)}catch{}e&&t&&-1===e.indexOf("www.gravatar.com")&&(this.description&&-1!==this.description.indexOf(e)||this.media.push({url:e,mime:t,length:a}))}setRead(e){this.read!==e&&(this.read=e,this.save(),i.JD("itemUpdated",this))}setStarred(e){this.starred!==e&&(this.starred=e,this.save(),i.JD("itemUpdated",this))}static getById=async e=>new s(await a.DB.getById("aggregator","items",e));async save(){this.nodeId||console.error("item.save(): nodeId is not set!",this);const e=await a.DB.set("aggregator","items",this.id,{nodeId:this.nodeId,read:this.read,starred:this.starred,title:this.title,description:this.description,time:this.time,source:this.source,sourceId:this.sourceId,media:this.media,metadata:this.metadata});this.id||(this.id=e)}}},902:(e,t,n)=>{"use strict";n.a(e,(async(e,a)=>{try{n.d(t,{k:()=>u});var i=n(753),s=n(454),r=n(890),o=n(136),d=n(779),c=n(470),l=e([i,s]);[i,s]=l.then?(await l)():l;class u{displayedFeedId;selected;static#$=(0,d.vs)("\n        <div class='newItems hidden'>Click to show new items</div>\n        <div>\n            {{#each items}}\n                <div class='item context-node' data-id='{{id}}' data-feed='{{nodeId}}'></div>\n            {{/each}}\n        </div>\n    ");static#D=(0,d.vs)("\n        <span class='date'>{{time}}</span>\n        <span class='title' data-read='{{read}}'>\n            {{#if starred}}‚≠ê{{/if}}\n            {{title}}\n        </span>\n    ");#T(e){let t=e.title;if(!t||0===t.trim().length)if(e.description&&e.description.length>0){const n=(new DOMParser).parseFromString(e.description,"text/html").body.textContent||"";t=n.substring(0,100)+(n.length>100?"...":"")}else t="No title";(0,d.XX)(`.item[data-id="${e.id}"]`,u.#D,{time:o.i.getShortDateStr(e.time),read:e.read,starred:e.starred,title:t})}async#O(e){const t=i.f.getNodeById(e),n=await t.getItems();this.selected=void 0,this.displayedFeedId=e,window.app.debug&&console.debug(`Loading items for feed ${t.title}`,n),(0,d.XX)("#itemlistViewContent",u.#$,{node:t,items:n.sort(((e,t)=>t.time-e.time))}),n.forEach((e=>this.#T(e)))}async toggleItemRead(e){const t=await r.q.getById(e),n=i.f.getNodeById(t.nodeId);t.setRead(!t.read),n.updateUnread(t.read?-1:1)}async toggleItemStar(e){const t=await r.q.getById(e);t.setStarred(!t.starred)}async#B(e,t){const n=await r.q.getById(e);t!==this.displayedFeedId&&await this.#O(t),[...document.querySelectorAll(".item.selected")].forEach((e=>e.classList.remove("selected")));let a=document.querySelector(`.item[data-id="${e}"]`);a.classList.add("selected"),a.scrollIntoView({block:"nearest"}),document.getElementById("itemlist").focus(),this.selected=n,n.read||await this.toggleItemRead(e)}async nextUnread(){let e,t,n;this.selected?(t=i.f.getNodeById(this.selected.nodeId),n=this.selected.id):(t=i.f.getNextUnreadNode(0),n=0),e=await t.getNextUnread(n),e||(t=i.f.getNextUnreadNode(t.id),e=await t.getNextUnread(n)),e&&s._.select(t.id,e.id)}openItemLink=async e=>window.open((await r.q.getById(e)).source,"_system","location=yes");constructor(){document.addEventListener("itemUpdated",(e=>this.#T(e.detail))),document.addEventListener("itemSelected",(e=>this.#B(e.detail.id,e.detail.feedId))),document.addEventListener("feedSelected",(e=>this.#O(e.detail.id))),document.addEventListener("itemsAdded",(e=>{e.detail.feedId==this.displayedFeedId&&document.querySelector("#itemlistViewContent .newItems").classList.remove("hidden")})),c.Ng("click",".item",(e=>s._.select(parseInt(e.dataset.feed),parseInt(e.dataset.id)))),c.Ng("auxclick",".item",(e=>this.toggleItemRead(parseInt(e.dataset.id))),(e=>1==e.button)),c.Ng("dblclick",".item",(e=>this.openItemLink(parseInt(e.dataset.id)))),c.Ng("click",".newItems",(()=>{document.querySelector(".newItems").classList.add("hidden"),this.#O(this.displayedFeedId)})),document.addEventListener("keydown",(e=>{if("itemlist"!==document.activeElement.id)return;if("itemlist"===!e.target.id)return;const t=document.querySelector(".item.selected");"ArrowDown"===e.key&&(t?t.nextElementSibling?.click():document.querySelector(".item")?.click(),e.preventDefault()),"ArrowUp"===e.key&&(t?t.previousElementSibling?.click():document.querySelector(".item")?.click(),e.preventDefault()),"Enter"===e.key&&t&&(this.openItemLink(parseInt(t.dataset.id)),e.preventDefault())}))}}a()}catch(e){a(e)}}))},243:(e,t,n)=>{"use strict";n.d(t,{n:()=>r});var a=n(136),i=n(890),s=n(779);class r{static#v=(0,s.vs)("\n        <h1 id='itemViewContentTitle'>\n            {{#if item.title}}\n                <a target='_system' href='{{item.source}}'>{{item.title}}</a>\n            {{else}}\n                <a target='_system' class='missingTitle' href='{{item.source}}'>Link to post</a>\n            {{/if}}\n        </h1>\n\n        <span class='date'>{{time}}</span>\n        <div class='date'></div>\n    \n        {{#each item.media}}\n            {{#contains 'audio' mime }}\n                <audio controls preload='none' src='{{ url }}'></audio>\n            {{/contains}}\n            {{#contains 'video' mime }}\n                <video controls preload='none' src='{{ url }}'></video>\n            {{/contains}}\n        {{/each}}\n\n        <p>{{{item.description}}}</p>\n    ");static async#N(e){const t=await i.q.getById(e);t.title&&t.media&&t.media.length>0&&(document.title=window.Config.siteName+" | "+t.title),(0,s.XX)("#itemViewContent",r.#v,{item:t,time:a.i.getShortDateStr(t.time)}),document.getElementById("itemViewContent").dataset.mode="item",document.getElementById("itemViewContent").dataset.id=e,document.getElementById("itemViewContent").scrollIntoView({block:"start"})}constructor(){document.addEventListener("itemSelected",(e=>r.#N(e.detail.id)))}}},846:(e,t,n)=>{"use strict";n.d(t,{F:()=>i});var a=n(551);async function i(e,t={},n=!1){const i=new AbortController,s=setTimeout((()=>i.abort()),3e4);t.signal=i.signal;try{return n||(n=await a.w.get("allowCorsProxy",!1)),n?await fetch(window.Config.corsProxy+encodeURI(e),t):await fetch(e,t)}catch(e){console.error("Fetch error:",e)}finally{clearTimeout(s)}}},800:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m,S:()=>h});var a=n(449),i=n(136);class s{static getRootNode(e){let t=e.firstChild;for(;1!=t.nodeType;)t=t.nextSibling;return t}static getNamespaces(e){const t=[];if(!e.attributes)return console.debug("No attributes!",e),t;for(let n=0;n<e.attributes.length;n++){const a=e.attributes[n];a.name.startsWith("xmlns:")&&t.push(a.name.substring(6))}return t}static parseItem(e,t,n){const s=[];for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t];n.name.startsWith("xmlns:")&&s.push(n.name.substring(6))}if(s.includes("dc")&&(n.description||(n.description=a.u.lookup(t,"dc:description")),n.time||(n.time=i.i.parse(a.u.lookup(t,"dc:date")))),s.includes("content")){const e=a.u.lookupNode(t,"content:encoded");if(e)try{const t=(new DOMParser).parseFromString(`<a>${e.innerHTML}</a>`,"text/xml");n.description=t.documentElement.textContent}catch(e){console.log(`Failed to parse <content:encoded> (${e})!`)}}s.includes("media")&&a.u.foreach(t,"//media:content",(e=>{n.addMedia(a.u.lookup(e,"@url"),a.u.lookup(e,"@type")||a.u.lookup(e,"@medium"),a.u.lookup(e,"@duration"))}))}}var r=n(624),o=n(890);class d{static id="atom";static autoDiscover=["/ns:feed/ns:entry"];static parseEntryLink(e,t){let n=a.u.lookup(e,"@href"),i=a.u.lookup(e,"@type"),s=a.u.lookup(e,"@rel");if(n){if("alternate_or_text/html"!==t.sourceType&&(s&&"alternate"===s||self&&"text/html"===i))return t.sourceType="alternate_or_text/html",void(t.source=n);t.source||(t.source=n)}}static parseEntry(e,t){let n=new o.q({title:a.u.lookup(e,"ns:title"),description:a.u.lookup(e,"ns:summary"),sourceId:a.u.lookup(e,"ns:id"),time:i.i.parse(a.u.lookup(e,"ns:updated"))});s.parseItem(t.root,e,n),a.u.foreach(e,"ns:link",d.parseEntryLink,n),t.feed.addItem(n)}static parse(e){const t=(new DOMParser).parseFromString(e,"application/xml"),n=s.getRootNode(t);let i=new r.J({error:a.u.lookup(n,"/parsererror"),title:a.u.lookup(n,"/ns:feed/ns:title"),icon:a.u.lookup(n,"/ns:feed/ns:icon"),description:a.u.lookup(n,"/ns:feed/ns:summary"),homepage:a.u.lookup(n,"/ns:feed/ns:link[@rel='alternate']/@href")||a.u.lookup(n,"/ns:feed/ns:link/@href")});return a.u.foreach(n,"/ns:feed/ns:entry",this.parseEntry,{root:n,feed:i}),i}}class c{static id="rss";static autoDiscover=["/rss/channel","/Channel/items"];static parseItem(e,t){let n=new o.q({title:a.u.lookup(e,"title"),description:a.u.lookup(e,"description"),source:a.u.lookup(e,"link"),sourceId:a.u.lookup(e,"guid"),time:i.i.parse(a.u.lookup(e,"pubDate"))});a.u.foreach(e,"enclosure",(e=>n.addMedia(a.u.lookup(e,"@url"),a.u.lookup(e,"@type")))),s.parseItem(t.root,e,n),t.feed.addItem(n)}static parse(e){const t=(new DOMParser).parseFromString(e,"application/xml"),n=s.getRootNode(t);let i=new r.J({error:a.u.lookup(n,"/parsererror")});return"Channel"===t.firstChild.nodeName&&(i.title=a.u.lookup(n,"/Channel/title"),i.description=a.u.lookup(n,"/Channel/description"),i.homepage=a.u.lookup(n,"/Channel/link"),a.u.foreach(n,"/Channel/items/item",this.parseItem,{root:n,feed:i})),"rss"===t.firstChild.nodeName&&(i.title=a.u.lookup(n,"/rss/channel/title"),i.description=a.u.lookup(n,"/rss/channel/description"),i.homepage=a.u.lookup(n,"/rss/channel/link"),a.u.foreach(n,"/rss/channel/item",this.parseItem,{root:n,feed:i})),i}}class l{static id="rdf";static autoDiscover=["/rdf:RDF/ns:channel"];static parseItem(e,t){let n=new o.q({title:a.u.lookup(e,"ns:title"),description:a.u.lookup(e,"ns:description"),source:a.u.lookup(e,"ns:link")});s.parseItem(t.root,e,n),t.feed.addItem(n)}static parse(e){const t=(new DOMParser).parseFromString(e,"application/xml"),n=s.getRootNode(t);let i=new r.J({error:a.u.lookup(n,"/parsererror")});return"rdf:RDF"===t.firstChild.nodeName&&(i.title=a.u.lookup(n,"/rdf:RDF/ns:channel/ns:title"),i.description=a.u.lookup(n,"/rdf:RDF/ns:channel/ns:description"),i.homepage=a.u.lookup(n,"/rdf:RDF/ns:channel/ns:link"),a.u.foreach(n,"/rdf:RDF/ns:item",this.parseItem,{root:n,feed:i})),i}}class u{static id="json";static parseItem(e){let t=new o.q({title:e.title,description:e.content_html||e.content_text||e.summary,time:i.i.parse(e.updated||e.date_published),sourceId:e.id,source:e.url||e.external_url});e.attachments&&Array.isArray(e.attachments)&&e.attachments.forEach((e=>t.addMedia(e.url,e.mime_type))),this.addItem(t)}static parse(e){const t=JSON.parse(e);let n=new r.J({type:this.id,title:t.title,icon:t.icon||t.favicon,description:t.description,homepage:t.home_page_url||t.feed_url});return t.items&&Array.isArray(t.items)&&t.items.forEach(this.parseItem,n),n}}function h(e,t=""){if(0==e.indexOf("{"))try{const t=JSON.parse(e);if(t.version&&t.version.startsWith("https://jsonfeed.org/version/"))return u}catch(e){}let n=[d,c,l];const i=(new DOMParser).parseFromString(e,"application/xml");console.info(`auto discover ${t}`);for(let e=0;e<n.length;e++)for(let t=0;t<n[e].autoDiscover.length;t++)try{if(a.u.lookup(i.firstChild,n[e].autoDiscover[t]))return n[e]}catch(e){}}function m(e,t){let n;try{n=(new DOMParser).parseFromString(e,"text/html")}catch{console.info("Link discovery: could not parse HTML!")}if(!n)return[];let a=[];if(n.head.querySelectorAll('link[rel="alternate"]').forEach((e=>{const t=e.getAttribute("type");t&&("application/atom+xml"!==t&&"application/rss+xml"!==t&&"application/rdf+xml"!==t&&"application/json"!==t&&"text/xml"!==t||a.push(e.getAttribute("href")))})),0===a.length){const t=/<link[^>]*>/g,n=/href="([^"]*)"/,i=/rel=["']alternate["']/,s=/type=["']([^"']+)["']/;let r;for(;null!==(r=t.exec(e));){const e=i.exec(r[0]),t=n.exec(r[0]),o=s.exec(r[0]),d=o?o[1]:null,c=t?t[1]:null;c&&d&&e&&("application/atom+xml"!==d&&"application/rss+xml"!==d&&"application/rdf+xml"!==d&&"application/json"!==d&&"text/xml"!==d||a.push(c))}}return a=a.map((e=>{if(e.includes("://"))return e;var n=new URL(t);return e.startsWith("/")?n.pathname=e:n.pathname+="/"+e,n.href})),a}},136:(e,t,n)=>{"use strict";n.d(t,{i:()=>a});class a{static parse(e){if(e)return new Date(e)?.getTime()/1e3}static getShortDateStr(e){if(!e)return"";const t=new Date(1e3*e),n=new Date,a=n.getTime()-t.getTime(),i=864e5,s=356*i;return a<i?`Today ${t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:a<2*i?`Yesterday ${t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:a<s&&t.getFullYear()===n.getFullYear()?t.toLocaleDateString([],{month:"short",day:"numeric"}):t.toLocaleDateString([],{year:"numeric",month:"short",day:"numeric"})}}},449:(e,t,n)=>{"use strict";n.d(t,{u:()=>a});class a{static evaluate(e,t){Object.getOwnPropertyDescriptor(globalThis,"window")?.get?.toString().includes("[native code]")||(t=t.replaceAll("ns:",""));let n=function(t){let n=t.ownerDocument.createNSResolver(t),a=(new window.DOMParser).parseFromString(e.outerHTML,"text/xml").children[0].getAttribute("xmlns");return function(e){return n.lookupNamespaceURI(e)||a}}(e);return e.ownerDocument.evaluate(t,e,n,XPathResult.UNORDERED_NODE_ITERATOR_TYPE,null)}static lookupNode(e,t){return a.evaluate(e,t).iterateNext()}static lookup(e,t){const n=a.lookupNode(e,t);return n?n.textContent:void 0}static foreach(e,t,n,i=null){const s=a.evaluate(e,t);let r=s.iterateNext();for(;r;)n(r,i),r=s.iterateNext()}}},217:(e,t,n)=>{"use strict";n.d(t,{r:()=>a});class a{static handlers={};static listener;static register(e,t){this.handlers[e]=t,this.listener||(this.listener=document.addEventListener("click",(e=>{const t=e.target.closest("[data-action]");t&&"button"===e.target.tagName&&a.dispatch(t.dataset.action,t)})))}static hotkey(e,t,n="/",i=void 0){const s=e.split("-"),r=s.pop(),o=s.includes("A"),d=s.includes("C"),c=s.includes("S");document.addEventListener("keydown",(e=>{if(window.location.hash.startsWith(n)&&e.ctrlKey===d&&e.altKey===o&&e.shiftKey===c&&e.code===r){e.preventDefault();let n={};i&&(n=i()),a.dispatch(t,n)}}))}static dispatch(e,...t){if(this.handlers[e])return this.handlers[e](...t);console.warn(`No handler for action "${e}"`)}}},470:(e,t,n)=>{"use strict";function a(e,t,n,a=void 0){document.addEventListener(e,(function(e){if(a&&!a(e))return;let i=e.target.closest(t);i&&(n(i),e.preventDefault())}))}function i(e,t,n){document.querySelector(e).addEventListener("keydown",(e=>{if(t(e))return n(e),e.preventDefault(),!1}))}n.d(t,{JD:()=>s,Ng:()=>a,qm:()=>i});const s=(e,t)=>document.dispatchEvent(new CustomEvent(e,{detail:t}))},779:(e,t,n)=>{"use strict";function a(e){return window.Handlebars.compile(e)}function i(e,t){let n;try{n=window.Handlebars.compile(e)(t)}catch(e){n=`Rendering exception: ${e}`}return n}function s(e,t,n,a=!1){let i;if(e){try{i=t(n)}catch(e){i=`Rendering exception: ${e}`}a?e.innerHTML+=i:e.innerHTML=i}else console.warn(`renderElement() nothing found for selector: ${e}`)}function r(e,t,n,a=!1){s(document.querySelector(e),t,n,a)}n.d(t,{F0:()=>i,XX:()=>r,dN:()=>s,vs:()=>a}),window.Handlebars.registerHelper("eachSorted",(function(e,t){let n=window.Handlebars.createFrame(t,t.hash),a="";for(const i of Object.keys(e).sort(((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase()))))Object.prototype.hasOwnProperty.call(e,i)&&(n.key=i,a+=t.fn(e[i],{data:n}));return a})),window.Handlebars.registerHelper("notEmpty",(function(e,t){return e&&Object.keys(e).length>0?t.fn(this):t.inverse(this)})),window.Handlebars.registerHelper("reSub",(function(e,t,n){let a=n.fn(this);return"string"!=typeof a?a:a.replace(new RegExp(e,"g"),t)})),window.Handlebars.registerHelper("ifTrue",(function(e,t){return 1==e?t.fn(this):t.inverse(this)})),window.Handlebars.registerHelper("ifFalse",(function(e,t){return 1==e?t.fn(this):t.inverse(this)})),window.Handlebars.registerHelper("contains",(function(e,t,n){return e=window.Handlebars.escapeExpression(e),(t=window.Handlebars.escapeExpression(t)).indexOf(e)>-1?n.fn(this):n.inverse(this)})),window.Handlebars.registerHelper("compare",(function(e,t,n,a){var i={"==":e==n,"===":e===n,"!=":e!=n,"!==":e!==n,">":e>n,">=":e>=n,"<":e<n,"<=":e<=n,"||":!(!e&&!n),"&&":!(!e||!n)};return Object.prototype.hasOwnProperty.call(i,t)?i[t]?a.fn(this):a.inverse(this):console.error('Error: Expression "'+t+'" not found')}))},991:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});var a=n(662);class i{#F;constructor(){a.u.get("Split").then((e=>{this.#F=e(["#sidebar","#main","#toolpanel"],{sizes:[0,70,30],minSize:[300,300,0],maxSize:[300,1/0,1/0],gutterSize:1,expandToMin:!0,direction:"horizontal"}),window.addEventListener("resize",(()=>this.#U())),this.#U()}))}#U(){window.innerWidth>1200?(this.#F.setSizes([5,70,25]),document.getElementById("toolpanel").style.display="block",document.getElementById("sidebar").style.display="block"):window.innerWidth>640?(this.#F.setSizes([5,95,0]),this.#F.collapse(2),document.getElementById("toolpanel").style.display="none",document.getElementById("sidebar").style.display="block"):(this.#F.setSizes([0,100,0]),this.#F.collapse(1),this.#F.collapse(2),document.getElementById("toolpanel").style.display="none",document.getElementById("sidebar").style.display="none")}}},662:(e,t,n)=>{"use strict";n.d(t,{u:()=>a});class a{static#M={};static async get(e){let t;if(this.#M[e])return this.#M[e];switch(e){case"md":{const e=new window.showdown.Converter({tables:!0,metadata:!0,ghCodeBlocks:!0});e.setFlavor("github"),e.setOption("simpleLineBreaks",!1),t=e;break}case"Split":{const{default:e}=await import("lib_split");t=e;break}case"DOMPurify":{const{default:e}=await import("lib_dompurify");t=e;break}case"adoc":{const{default:e}=await import("lib_asciidoctor");t=new e;break}case"Mermaid":{const{default:e}=await import("lib_mermaid");e.initialize({startOnLoad:!1,securityLevel:"antiscript",logLevel:"error"}),t=e;break}case"rst":await import("lib_rst2html"),t=window.rst2html;break;default:throw new Error(`Unknown converter: ${e}`)}return this.#M[e]=t,this.#M[e]}}},240:(e,t,n)=>{"use strict";n.d(t,{r:()=>i});var a=n(551);class i{static#P={none:async()=>({model:"none",result:"ERROR: LLM chat bot is currently disabled in <a href='#/-/Settings'>Settings</a>. Please enable it to allow LLM prompts."}),huggingFace:async e=>{const t=await a.w.get("huggingFaceModel");return t?{model:"HuggingFace "+t,result:await this.#j({messages:[{role:"user",content:e}],model:t}).then((e=>{if(e.error)throw new Error(e.error.message);if(!e.choices||0===e.choices.length)throw new Error("No response from LLM model.");return e.choices[0].message.content})).catch((e=>"ERROR: "+e.message))}:{model:"HuggingFace ???",result:"ERROR: No model selected."}},ollama:async e=>{const t=await a.w.get("ollamaModel");return t?{model:"Ollama "+t,result:await fetch(`${await a.w.get("ollamaEndpoint")}/api/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e,model:t,stream:!1})}).then((e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.json()})).then((e=>{if(e.error)throw new Error(e.error);return e.response})).catch((e=>"ERROR: "+e.message))}:{model:"Ollama ???",result:"ERROR: No model selected."}}};static async updateOllamaModelList(){const e=await fetch(`${await a.w.get("ollamaEndpoint")}/api/tags`,{method:"GET"}).then((e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.json()}));await a.w.set("ollamaModels",e.models.map((e=>e.name)),!0)}static async#j(e){let t={"Content-Type":"application/json"};const n=await a.w.get("huggingFaceToken");n&&n.length>0&&(t.Authorization=`Bearer ${n}`);const i=await fetch("https://router.huggingface.co/v1/chat/completions",{headers:t,method:"POST",body:JSON.stringify(e)});return await i.json()}static async submit(e){const t=await a.w.get("chatType","none");return t&&this.#P[t]?await this.#P[t](e):{model:"unknown",result:`ERROR: Unknown chat provider: ${t}`}}}},925:(e,t,n)=>{"use strict";n.a(e,(async(e,a)=>{try{n.d(t,{m:()=>u});var i=n(870),s=n(540),r=n(648),o=n(84),d=n(3),c=n(551),l=e([i]);i=(l.then?(await l)():l)[0];class u{static getInstallable=async e=>window.Config.groups[e]?.catalog?await fetch(window.Config.groups[e].catalog.source).then((e=>e.json())).then((t=>{if(t)return t;throw new Error(`Error fetching ${e} catalog`)})):{};static async#_(e){try{for(const t of Object.keys(window.Config.groups[e].install)){const n=window.Config.groups[e].install[t];await this.install(e,t,n,void 0,!1)}}catch(t){console.error(`Error fetching index ${window.Config.indexUrls[e].index}: ${t}`)}}static async update(){const e=await d.w.getTree();if(await c.w.get("initialRun",!0)){console.log("Initial run. Initializing groups...");for(const t of Object.keys(window.Config.groups))window.Config.groups[t].install&&(e.nodes[t]||this.#_(t));await c.w.set("initialRun",!1),console.log("Initial run finished"),document.dispatchEvent(new CustomEvent("sections-updated"))}else{console.log("Checking for orphaned documents...");const t=await r.DB.getAllKeys("settings","settings");for(const n of t)if(0==n.indexOf("document:::")){const t=n.split(/:::/);e.nodes[t[1]]&&e.nodes[t[1]].nodes&&e.nodes[t[1]].nodes[t[2]]||(console.log(`Dropping orphaned doc: ${n}`),c.w.remove(n))}console.log("Checking for missing sections...");for(const t of Object.keys(window.Config.groups))e.nodes[t]||window.Config.groups[t].removable||"Feeds"===t||(console.log(`Installing missing section: ${t}`),this.#_(t))}}static removeGroup(e){d.w.removeGroup(e),i.q.pathChanged(""),o.d.update()}static remove(e,t){d.w.remove(e,t),o.d.update()}static async install(e,t,n,a=void 0,i=!0){let r=document.createElement("pre");r.class="note",r.innerText="Fetching content...\n",a&&a.parentNode.append(r),await s.Z.fetchNewSection(e,t,n,i).catch((e=>{console.error(`Error fetching '${t}' from ${n.github}: ${e}`),r.innerText+=`Error fetching '${t}' from ${n.github}: ${e}\n`})),document.dispatchEvent(new CustomEvent("sections-updated")),o.d.update()}}a()}catch(e){a(e)}}))},540:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});class a{static async fetch(e){var t,n=await fetch(`https://api.github.com/repos/${e.github}`).then((e=>e.json())).then((n=>(t=n,fetch(`https://api.github.com/repos/${e.github}/git/trees/${n.default_branch}?recursive=1`)))).then((e=>e.json())).catch((e=>{throw new Error(`Error on Github request: ${e}'`)}));if(n.response&&n.response.test(/Too many requests/))throw new Error("Github API rate limit exceeded!");if(!n.tree)throw new Error("No 'tree' data when fetching from Github!");return{paths:n.tree.map((a=>({path:a.path,download:`https://raw.githubusercontent.com/${e.github}/${n.sha}/${a.path}`,edit:`https://github.com/${e.github}/edit/${t.default_branch}/${a.path}`}))),section:{url:t.html_url,author:t.owner.login,homepage:t.homepage,license:t.license,default_branch:t.default_branch}}}}class i{static async fetch(e){var t;return{data:await fetch(`https://gitlab.com/api/v4/projects/${encodeURIComponent(e.gitlab)}`).then((e=>e.json())).then((n=>(t=n,fetch(`https://gitlab.com/api/v4/projects/${encodeURIComponent(e.gitlab)}/repository/tree?ref=${n.default_branch}&recursive=true`)))).then((e=>e.json())),section:{url:t.html_url,author:t.owner.login,homepage:t.homepage,license:t.license,default_branch:t.default_branch}}}}var s=n(3);class r{static#A(e,t,n,a,i){s.w.addDocument(e,t,n,{type:"link",baseName:a.replace(/.*\//,""),baseUrl:a.replace(/\/[^/]+$/,""),editUrl:i})}static async documentDownload(e,t,n,a,i){navigator.storage&&navigator.storage.persist&&navigator.storage.persist(),await fetch(a).then((e=>e.text())).then((async r=>{s.w.addDocument(e,t,n,{data:r,baseName:a.replace(/.*\//,""),baseUrl:a.replace(/\/[^/]+$/,""),editUrl:i})}))}static#H(e,t=null,n){var a={match:e.match(n),target:null};return a.match&&(t?2==e.split(t).length?a.target=a.match[1].substring(t.length+1):a.match=null:a.target=a.match[1]),a}static async fetchNewSection(e,t,n,r){const o=n.filePattern?n.filePattern:"^(.+)\\.(md|markdown|rst|adoc|asciidoc)$",d=new RegExp(o);let c,l=[];if(n.github)console.log(`Fetching from ${n.github}...`),c=await a.fetch(n);else{if(!n.gitlab)throw new Error("Unsupported repo type!");console.log(`Fetching from ${n.gitlab}...`),c=await i.fetch(n)}let u=c.section;u.children=[],c.paths.forEach((a=>{var i=this.#H(a.path,n.folder,d);i.target&&(i.target=i.target.replace(/\//g,":::"),r?l.push(this.documentDownload(e,t,i.target,a.download,a.edit).then((()=>document.dispatchEvent(new CustomEvent("download-finished",{detail:a.path}))))):this.#A(e,t,i.target,a.download,a.edit),u.children.push(i.target))})),await s.w.addDocTree(e,t,u),await Promise.all(l)}}},648:(e,t,n)=>{"use strict";n.d(t,{DB:()=>a});class a{static#q={aggregator:{version:1,stores:{tree:{keyPath:"id",autoIncrement:!0},items:{keyPath:"id",autoIncrement:!0},favicons:{keyPath:"id",autoIncrement:!0}},indexes:{items:[{name:"nodeId",field:"value.nodeId",params:{unique:!1}}]}},settings:{version:1,stores:{settings:{keyPath:"id",autoIncrement:!0}},indexes:{}}};static#V=[];static async#z(e){if(!this.#q[e])throw new Error(`DB '${e}' not configured`);return this.#V[e]||(await new Promise(((t,n)=>{let a=this,i=indexedDB.open(e,a.#q[e].version);i.onsuccess=function(){a.#V[e]=this.result,t()},i.onerror=function(e){a.#V=void 0,n(`Error opening IndexedDB: ${e.target.errorCode}`)},i.onupgradeneeded=t=>{const n=a.#V[e]=t.currentTarget.result;console.log("IndexedDB onupgradeneeded");const i=a.#q[e].stores;Object.keys(i).forEach((t=>{n.objectStoreNames.contains(t)||(console.log(`Creating store '${t}' in IndexedDB ${e}`),n.createObjectStore(t,i[t]))}));const s=a.#q[e].indexes;Object.keys(s).forEach((a=>{if(n.objectStoreNames.contains(a)){const n=t.target.transaction.objectStore(a);for(const t of s[a])n.indexNames.contains(t.name)||(console.log(`Creating index '${t.name}' in store '${a}' of IndexedDB ${e}`),n.createIndex(t.name,t.field,t.params))}}))}})),window.DB=this),this.#V[e]}static async getByIndexOnly(e,t,n,a){const i=await this.#z(e);return await new Promise(((s,r)=>{const o=i.transaction(t,"readonly").objectStore(t);if(!o.indexNames.contains(n))return void r(`Index '${n}' does not exist in store '${t}'`);const d=o.index(n),c=[],l=d.openCursor(IDBKeyRange.only(a));l.onsuccess=e=>{const t=e.target.result;t?(c.push({id:t.id,...t.value}),t.continue()):s(c)},l.onerror=i=>r(`Error getting '${a}' from DB '${e}' store '${t}' index '${n}': ${i.target.errorCode}`)}))}static async getAllKeys(e,t){const n=await this.#z(e);return await new Promise(((a,i)=>{const s=n.transaction(t,"readonly").objectStore(t).getAllKeys();s.onsuccess=function(e){a(e.target.result)},s.onerror=function(n){i(`Error getting all keys from DB '${e}' store '${t}': ${n.target.errorCode}`)}}))}static async get(e,t,n,a="null"){const i=await this.#z(e);return await new Promise(((s,r)=>{const o=i.transaction(t,"readonly").objectStore(t).get(n);o.onsuccess=function(e){let t;t=e.target.result&&void 0!==e.target.result.value&&null!==e.target.result.value?e.target.result.value:a,s(t)},o.onerror=function(a){r(`Error getting '${n}' from DB '${e}' store '${t}' ${a.target.errorCode}`)}}))}static getById=async(e,t,n)=>{const a=await this.get(e,t,n);return a?{id:n,...a}:null};static async set(e,t,n,a){const i=await this.#z(e);await new Promise(((s,r)=>{const o=i.transaction(t,"readwrite").objectStore(t);try{const i=o.put(n?{id:n,value:a}:{value:a});i.onsuccess=function(){s()},i.onerror=function(a){r(`Error saving '${n}' in DB '${e}' store '${t}': ${a.target.errorCode}`)}}catch(a){r(`Error saving '${n}' in DB '${e}' store '${t}': ${a}`)}}))}static async remove(e,t,n){const a=await this.#z(e);await new Promise(((i,s)=>{const r=a.transaction(t,"readwrite").objectStore(t);try{r.delete(n),i()}catch(a){s(`Error deleting '${n}' DB '${e}' from store '${t}': ${a}`)}}))}static async removeOrphans(e,t,n,a){const i=await this.#z(e);await new Promise(((s,r)=>{const o=i.transaction(t,"readwrite").objectStore(t);try{let i=0;const r=o.index(n),d=IDBKeyRange.lowerBound(0);r.openCursor(d).onsuccess=r=>{const o=r.target.result;o?(a.includes(o.value.value[n])||(o.delete(),i++),o.continue()):(console.info(`Removed ${i} orphaned items from DB '${e}' store '${t}'`),s())}}catch(n){r(`Error deleting orphaned items from DB '${e}' store '${t}': ${n}`)}}))}}},84:(e,t,n)=>{"use strict";n.d(t,{d:()=>s});var a=n(3),i=n(551);class s{static#J="SearchIndexCache";static async getCache(){return await i.w.get(s.#J,void 0)}static async setCache(e){await i.w.set(s.#J,e)}static async clearCache(){await i.w.delete(s.#J)}static async getDocs(){const e=await a.w.getTree();let t={};return e.nodes&&Object.values(e.nodes).forEach((e=>{t={...t,...s.#W(e)}})),t}static#W(e){let t={};return e.nodes&&Object.values(e.nodes).forEach((e=>{console.log(`Adding index for ${e.id}`);const n=`${e.id.replace(/:::/g,"/")}`;t[n]={doc:n,id:e.id,title:e.name,content:e.content,relUrl:"#/"+n},t={...t,...s.#W(e)}})),t}static async update(){console.log("SearchIndex: Updating index...");const e=await s.getDocs();let t={docs:e,index:window.lunr((function(){this.ref("id"),this.field("title",{boost:200}),this.field("content",{boost:2}),this.field("relUrl"),this.metadataWhitelist=["position"];for(let t in e)this.add({id:t,title:e[t].title,content:e[t].content,relUrl:e[t].relUrl})}))};s.setCache({index:JSON.stringify(t.index),docs:t.docs}),document.dispatchEvent(new CustomEvent("search-index-updated",{detail:t})),console.log("SearchIndex: Updating index done.")}}},3:(e,t,n)=>{"use strict";n.d(t,{w:()=>i});var a=n(551);class i{static#G(e,t,n){let a={name:t,parent_id:e,id:e+":::"+t,runbook:n.runbook,url:n.url,author:n.author,license:n.license,homepage:n.homepage,nodes:{}};return n.children.forEach((i=>{console.log(`Adding ${i} to group ${e} section ${t}`);const s=i.split(/:::/);let r=a;for(let e=0;e<s.length-1;e++){const t=s[e];r.nodes[t]||(r.nodes[t]={name:t,id:r.id+":::"+t,parent_id:r.id,nodes:{}}),r=r.nodes[t]}r.nodes[s[s.length-1]]={name:s[s.length-1],id:r.id+":::"+s[s.length-1],parent_id:r.id,type:n.type}})),console.info(a),a}static async#U(e){await a.w.set("sections",e),document.dispatchEvent(new CustomEvent("sections-updated"))}static async remove(e,t){let n=await this.getTree(),i=n.nodes[e].nodes[t];if(i){for(const e of Object.keys(i.nodes))a.w.remove(`document:::${t}:::${e}`);await a.w.remove(`section:::${t}`),delete n.nodes[e].nodes[t],this.#U(n)}}static async removeGroup(e){let t=await this.getTree(),n=t.nodes[e];if(n){for(const t of Object.keys(n.nodes))await this.remove(e,t);delete t.nodes[e],this.#U(t)}}static async addDocTree(e,t,n){let a=await this.getTree();a.nodes[e]||(a.nodes[e]={nodes:{}}),a.nodes[e].nodes[t]=i.#G(e,t,n),this.#U(a)}static async get(e){let t=await this.getTree();for(const n of e.split(/:::/)){if(!t.nodes[n])return;t=t.nodes[n]}return t}static getTree=async()=>await a.w.get("sections",{nodes:{}});static getDocument=async e=>await a.w.get(`document:::${e}`,{});static addDocument=async(e,t,n,i)=>await a.w.set(`document:::${e}:::${t}:::${n}`,i)}},551:(e,t,n)=>{"use strict";n.d(t,{w:()=>i});var a=n(648);class i{static get=async(e,t)=>await a.DB.get("settings","settings",e,t);static async set(e,t,n=!0){await a.DB.set("settings","settings",e,t,n),n&&document.dispatchEvent(new CustomEvent("settings-changed",{detail:{name:e,value:t}}))}static remove=async e=>await a.DB.remove("settings","settings",e)}},489:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var a=n(84);class i{static addEvent(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)}static removeEvent(e,t,n){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener(t,n)}static jtdSearchLoaded=function(e,t){var n,a=document.getElementById("search-input"),s=document.getElementById("search-results"),r=0;function o(){document.documentElement.classList.remove("search-active")}function d(){r++;var i=a.value;if(""===i?o():(document.documentElement.classList.add("search-active"),window.scroll(0,-1),setTimeout((function(){window.scroll(0,0)}),0)),i!==n&&(n=i,s.innerHTML="",""!==i)){var d=e.query((function(e){var t=window.lunr.tokenizer(i);e.term(t,{boost:10}),e.term(t,{wildcard:window.lunr.Query.wildcard.TRAILING})}));if(0==d.length&&i.length>2){var c=window.lunr.tokenizer(i).filter((function(e){return e.str.length<20}));c.length>0&&(d=e.query((function(e){e.term(c,{editDistance:Math.round(Math.sqrt(i.length/2-1))})})))}if(0==d.length){var l=document.createElement("div");l.classList.add("search-no-result"),l.innerText="No results found",s.appendChild(l)}else{var u=document.createElement("ul");u.classList.add("search-results-list"),s.appendChild(u),function e(t,n,a,i,s,o){if(o==r){for(var d=a;d<a+i;d++){if(d==n.length)return;h(t,n[d])}setTimeout((function(){e(t,n,a+i,i,s,o)}),s)}}(u,d,0,10,100,r)}}function h(e,n){var a=t[n.ref],i=document.createElement("li");i.classList.add("search-results-list-item"),e.appendChild(i);var s=document.createElement("a");s.classList.add("search-result"),s.setAttribute("href",a.relUrl),i.appendChild(s);var r=document.createElement("div");r.classList.add("search-result-title"),s.appendChild(r);var o=document.createElement("div");o.classList.add("search-result-doc"),o.innerHTML='<svg viewBox="0 0 24 24" class="search-result-icon"><use xlink:href="#svg-doc"></use></svg>',r.appendChild(o);var d=document.createElement("div");d.classList.add("search-result-doc-title"),d.innerHTML=a.doc,o.appendChild(d);var c=d;if(a.doc!=a.title){o.classList.add("search-result-doc-parent");var l=document.createElement("div");l.classList.add("search-result-section"),l.innerHTML=a.title,r.appendChild(l),c=l}var u=n.matchData.metadata,h=[],p=[];for(var g in u){var f=u[g];if(f.title){let e=f.title.position;for(let t in e)h.push(e[t])}if(f.content){let e=f.content.position;for(let t in e){var w=e[t],v=w[0],y=w[0]+w[1],b=!0,E=!0;for(let e=0;e<5;e++){let e=a.content.lastIndexOf(" ",v-2),t=a.content.lastIndexOf(". ",v-2);if(t>=0&&t>e){v=t+1,b=!1;break}if(e<0){v=0,b=!1;break}v=e+1}for(let e=0;e<10;e++){let e=a.content.indexOf(" ",y+1),t=a.content.indexOf(". ",y+1);if(t>=0&&t<e){y=t,E=!1;break}if(e<0){y=a.content.length,E=!1;break}y=e}p.push({highlight:w,previewStart:v,previewEnd:y,ellipsesBefore:b,ellipsesAfter:E})}}}if(h.length>0&&(h.sort((function(e,t){return e[0]-t[0]})),c.innerHTML="",m(c,a.title,0,a.title.length,h)),p.length>0){p.sort((function(e,t){return e.highlight[0]-t.highlight[0]}));var k=p[0],x={highlight:[k.highlight],previewStart:k.previewStart,previewEnd:k.previewEnd,ellipsesBefore:k.ellipsesBefore,ellipsesAfter:k.ellipsesAfter},C=[x];for(let e=1;e<p.length;e++)k=p[e],x.previewEnd<k.previewStart?(x={highlight:[k.highlight],previewStart:k.previewStart,previewEnd:k.previewEnd,ellipsesBefore:k.ellipsesBefore,ellipsesAfter:k.ellipsesAfter},C.push(x)):(x.highlight.push(k.highlight),x.previewEnd=k.previewEnd,x.ellipsesAfter=k.ellipsesAfter);var I=document.createElement("div");I.classList.add("search-result-previews"),s.appendChild(I);var R=a.content;for(let e=0;e<Math.min(C.length,3);e++){let t=C[e];var S=document.createElement("div");S.classList.add("search-result-preview"),I.appendChild(S),t.ellipsesBefore&&S.appendChild(document.createTextNode("... ")),m(S,R,t.previewStart,t.previewEnd,t.highlight),t.ellipsesAfter&&S.appendChild(document.createTextNode(" ..."))}}var L=document.createElement("span");L.classList.add("search-result-rel-url"),L.innerText=a.relUrl,r.appendChild(L)}function m(e,t,n,a,i){var s=n;for(var r in i){let n=i[r],a=document.createElement("span");a.innerHTML=t.substring(s,n[0]),e.appendChild(a),s=n[0]+n[1];var o=document.createElement("span");o.classList.add("search-result-highlight"),o.innerHTML=t.substring(n[0],s),e.appendChild(o)}var d=document.createElement("span");d.innerHTML=t.substring(s,a),e.appendChild(d)}}i.addEvent(a,"focus",(function(){setTimeout(d,0)})),i.addEvent(a,"keyup",(function(e){switch(e.keyCode){case 27:a.value="";break;case 38:case 40:case 13:return void e.preventDefault()}d()})),i.addEvent(a,"keydown",(function(e){let t;switch(e.keyCode){case 38:if(e.preventDefault(),t=document.querySelector(".search-result.active"),t&&(t.classList.remove("active"),t.parentElement.previousSibling)){var n=t.parentElement.previousSibling.querySelector(".search-result");n.classList.add("active"),n.scrollIntoView({behavior:"smooth",block:"nearest"})}return;case 40:if(e.preventDefault(),t=document.querySelector(".search-result.active"),t){if(t.parentElement.nextSibling){var a=t.parentElement.nextSibling.querySelector(".search-result");t.classList.remove("active"),a.classList.add("active"),a.scrollIntoView({behavior:"smooth",block:"nearest"})}}else{let e=document.querySelector(".search-result");e&&e.classList.add("active")}return}})),i.addEvent(document,"click",(function(e){e.target!=a&&o()}))};static selectResult(){let e=document.querySelector(".search-result.active");if(e)e.click();else{var t=document.querySelector(".search-result");t&&t.click()}}static async init(){window.lunr.tokenizer.separator=/[\s\-/]+/,document.addEventListener("search-index-updated",(e=>{console.log("Search.init: reloading search index..."),i.jtdSearchLoaded(e.detail.index,e.detail.docs)}));try{const e=await a.d.getCache();if(e&&e.index&&e.docs){console.log("Load search index from cache...");let t=window.lunr.Index.load(JSON.parse(e.index));return void i.jtdSearchLoaded(t,e.docs)}}catch(e){console.error(`ERROR: Failed to load index from cache (${e})!`)}a.d.update()}}},388:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ChatView:()=>d});var a=n(240),i=n(913),s=n(662),r=n(551),o=n(779);class d{static#X;static addToolResult(e,t,n="text"){if(!e||!t)return;const a=i.ContentView.getViewElement("chat").querySelector(".content"),s=document.createElement("pre");if(s.classList.add("cli"),s.innerText+="$ "+e,"text"===n&&(s.innerText+="\n"+t),a.appendChild(s),"html"===n){const e=document.createElement("div");e.innerHTML=t,a.appendChild(e)}a.scrollIntoView({behavior:"smooth",block:"end"})}static async submitPrompt(e){if(0==e.length)return;const t=i.ContentView.getViewElement("chat"),n=t.querySelector(".content");let c,l;n.innerHTML+=o.F0('\n            <div class="question"><p>{{prompt}}</p></div>\n            <div class="loading"><i>Processing ...</i></div>\n        ',{prompt:e}),n.scrollIntoView({behavior:"smooth",block:"end"}),d.#X||(d.#X=await s.u.get("md")),r.w.get("AIPromptHistory",[]).then((t=>{t.push(e),t=t.slice(-15),r.w.set("AIPromptHistory",t)}));try{l=await a.r.submit(e)}catch(e){c=`<div class="answer">ERROR: Request failed (${encodeURI(e)})!</div>`}try{c=d.#X.makeHtml(l.result)}catch(e){c=`ERROR: Markdown parsing error (${encodeURIComponent(e)})!`}[...t.querySelectorAll(".loading")].forEach((e=>e.remove())),n.innerHTML+=`<div class="answer"><div class="llm">${l.model}</div>${c||"ERROR: Request failed!"}</div>`,n.scrollIntoView({behavior:"smooth",block:"end"})}}},943:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ChecksView:()=>s});var a=n(551),i=n(779);class s{constructor(e){Object.values(window.Config.toolboxComponents).forEach((e=>n(755)(e.import))),s.render(e),document.addEventListener("settings-changed",(t=>{0==t.detail.name.indexOf("toolEnabled:::")&&s.render(e)}))}static async render(e){Promise.all(Object.keys(window.Config.toolboxComponents).map((async e=>({name:e,embed:window.Config.toolboxComponents[e].embed,settings:window.Config.toolboxComponents[e].settings,enabled:await a.w.get("toolEnabled:::"+e,window.Config.toolboxComponents[e].enabled)})))).then((t=>{i.dN(e,i.vs('\n                <div class="checks">\n                    {{#each tools}}\n                    {{#ifTrue enabled}}\n                        <h3>\n                            {{name}}\n                            {{#if settings}}\n                                <a href="#/-/Settings/Tools/{{name}}" class="settings">‚öô</a>\n                            {{/if}}\n                        </h3>\n                        <div class="check">\n                            {{{embed}}}\n                        </div>\n                    {{/ifTrue}}\n                    {{/each}}\n                </div>\n            '),{tools:t})}))}}},913:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ContentView:()=>d});var a=n(3),i=n(6),s=n(209),r=n(965),o=n(779);class d{static#K={adoc:s.CheatSheetRenderer,rst:s.CheatSheetRenderer,asciidoc:s.CheatSheetRenderer,md:s.CheatSheetRenderer,htm:s.CheatSheetRenderer,html:s.CheatSheetRenderer,pdf:r.PdfRenderer};static#Y={Catalog:{switch:"content",view:"Catalog"},CLI:{switch:"chat",view:void 0},Discover:{switch:"content",view:"Discover"},Feeds:{switch:"content",view:"Feeds"},Feed:{switch:"feedreader",view:"FeedReader"},Folder:{switch:"content",view:"Folder"},Settings:{switch:"content",view:"Settings"},OPFS:{switch:"content",view:"OPFSFileBrowser"}};constructor(e){o.dN(e,o.vs('       \n            <nav class="breadcrumb-nav">\n                <ol class="breadcrumb-nav-list" id="breadcrumb-nav"></ol>\n            </nav>\n\n            <div id="main-content-content" class="main-content-view">\n            </div>\n\n            <div id="main-content-search" class="main-content-view">\n                <div id="search-results" class="search-results">\n                    Loading ...\n                </div>\n            </div>\n\n            <div id="main-content-chat" class="main-content-view">\n                <p class="loading">\n                This is the combined CLI/chat view. By prefixing prompts with <code>?</code> you can ask questions here and get answers from the configured LLM.\n                Enter <code>!help</code> to see available CLI commands. Not using a prefix will perform a content search.\n                </p>\n\n                <div id="aiChatView">\n                    <div class="container">\n                        <div class="content">\n                        </div>\n                    </div>\n                </div>\n            </div>\n        '),{}),new i.HomeView(d.#Q("content")),Array.from(document.getElementsByClassName("main-content-view")).forEach((e=>{e.onclick=()=>e.focus()}))}static#Z=()=>document.getElementById("breadcrumb-nav").scrollIntoView({behavior:"instant",block:"center"});static#ee(e,t){if(!Object.keys(d.#Y).includes(e))return void(d.#Q("content").innerHTML=`ERROR: No internal route for ${e}`);const a=d.#Q(d.#Y[e].switch),i=d.#Y[e].view;i&&n(855)(`./${i}.js`).then((e=>{new e[`${i}View`](a,t)})).catch((e=>{d.#Q("content").innerHTML=`ERROR: Loading view ${i} failed: ${e}`}))}static async render(e){if(d.#Z(),0==e.indexOf("-/"))return void d.#ee(e.split("/")[1],e);const t=e.replace(/\//g,":::");if((await a.w.get(t)).nodes)return void(-1==t.indexOf(":::")?d.#ee("Catalog",e):d.#ee("Folder",e));const n=await a.w.getDocument(t);if(!n)return s.innerHTML="<h1>ERROR: Document not found</h1>",void console.error(`No document found for ${e}`);const i=n.baseName.split(".").pop().toLowerCase(),s=d.#Q("content");Object.keys(d.#K).includes(i)?await d.#K[i].load(s,n):s.innerHTML=`ERROR: No renderer for ${i} files`}static#Q(e){let t;return document.title=window.Config.siteName,"feedreader"===e?(document.getElementById("main-content-wrap").style.display="none",t=document.getElementById("feedreader"),t.style.display="block",t):([...document.querySelectorAll(".main-content-view")].forEach((e=>e.style.display="none")),document.getElementById("main-content-wrap").style.display="block",t=document.getElementById(`main-content-${e}`),t.style.display="block","chat"!==e&&"search"!==e&&(t.innerHTML=""),t)}static getViewElement(e){return document.getElementById(`main-content-${e}`)}static showSearch(){d.#Q("search")}static hideSearch(){window.location.hash.startsWith("#/-/CLI")?d.#Q("chat"):d.#Q("content")}}},6:(e,t,n)=>{"use strict";n.r(t),n.d(t,{HomeView:()=>r});var a=n(943),i=n(3);class s{#m;#te;#ne;#ae;#ie;constructor(e){this.#m=window.Handlebars.compile(e.template),this.#te=e.data||{},this.#ne=e.mapper,this.#ae=document.createElement("div"),this.#ae.className="event-container",e.root.appendChild(this.#ae),this.setData(this.#te),e.events&&(this.#ie=this.#y.bind(this),e.events.forEach((e=>{this.#ae.addEventListener(e,(e=>{for(const t in this.#te)if(e.detail[t]!==this.#te[t])return;this.#ie()}))})))}async#y(){const e=this.#ne?await this.#ne(this.#te):this.#te,t=this.#m(e,this.#te);this.#ae.innerHTML!==t&&(this.#ae.innerHTML=t)}setData(e){this.#te={...this.#te,...e};for(const e in this.#te)this.#ae.dataset[e]=this.#te[e];this.#y()}}class r extends s{constructor(e){super({root:e,template:'\n                <div class="about">\n                    {{{ welcome }}}\n\n                    <div id=\'home-content\'>\n                        <h3>Content</h3>\n\n                        <div>\n                            {{#each sections.nodes as |groups groupId| }}\n                                <div>\n                                    <b>{{ @key }}</b>:\n                                    {{#each nodes}}\n                                        &nbsp;\n                                        <a href="#/{{ groupId }}/{{ @key }}">{{ @key }}</a>\n                                    {{/each}}\n                                </div>\n                            {{/each}}\n                        </div>\n                    </div>\n                </div>\n\n                <div id="toolpanelHome"></div>\n            ',mapper:async()=>({welcome:window.Config.welcome,sections:await i.w.getTree()})}),new a.ChecksView(document.getElementById("toolpanelHome"))}}},216:(e,t,n)=>{"use strict";n.a(e,(async(e,a)=>{try{n.r(t),n.d(t,{Sidebar:()=>c});var i=n(753),s=n(3),r=n(217),o=n(779),d=e([i]);i=(d.then?(await d)():d)[0];class c{#se;static#m=o.vs('\n        {{#* inline "sidebarChildNode"}}\n            <li class="nav-list-item" data-path="{{ id }}">\n                {{#notEmpty nodes}}\n                    <a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a>\n                {{/notEmpty}}\n                <a data-path="{{ id }}" class="nav-list-link" href="#/{{#reSub ":::" "/"}}{{id}}{{/reSub}}">{{ name }}</a>\n                <ul data-path="{{ id }}" class="nav-list">\n                    {{#each nodes }}\n                        {{> sidebarChildNode }}\n                    {{/each}}\n                </ul>\n            </li>\n        {{/inline}}\n\n        {{#each tree.nodes }}\n            <ul class="nav-list">\n                    <li class="nav-list-item" data-path="{{ @key }}">\n                            <a class="nav-list-link pwa-title" data-path="{{ @key }}" href="#/{{ @key }}">\n                                    {{ @key }}\n                            </a>\n                    </li>\n            </ul>\n            <ul class="nav-list">\n                {{#each nodes }}\n                    {{> sidebarChildNode }}\n                {{/each}}\n            </ul>\n        {{/each}}\n\n        {{#* inline "sidebarChildFeed"}}\n            {{#if feed.error}}\n                ‚õî&nbsp;\n            {{else}}\n                {{#if feed.icon}}\n                    <img class=\'icon\' src=\'{{feed.icon}}\'/>\n                {{/if}}\n            {{/if}}\n            <span class=\'title\'>\n                {{{feed.title}}}\n            </span>\n            <span class=\'count\' data-count=\'{{feed.unreadCount}}\'>{{feed.unreadCount}}</span>\n        {{/inline}}\n   \n        \x3c!-- FeedReader section --\x3e\n        <ul class="nav-list">\n                <li class="nav-list-item context-node" data-type=\'folder\' data-path="feeds">\n                        <a class="nav-list-link pwa-title" data-path="feeds" href="#/-/Feeds">\n                                Feeds\n                        </a>\n                </li>\n        </ul>\n        <div id="feedlist">\n            <ul class="nav-list" id=\'feedlistViewContent\'>\n                {{#each feedlist.children }}\n                    <li class=\'nav-list-item context-node\' data-type=\'feed\' data-id=\'{{id}}\'>\n                        <a data-path="-:::Feed:::{{id}}" class="nav-list-link" href="#/-/Feed/{{id}}">\n                            <div class="feed">\n                                {{> sidebarChildFeed feed=this }}\n                            </div>\n                        </a>\n                    </li>\n                {{/each}}\n            </ul>\n        </div>\n    ');constructor(e){this.#se=e,this.#y(),e.addEventListener("dragover",this.#re.bind(this)),e.addEventListener("dragleave",this.#oe.bind(this)),e.addEventListener("dragend",this.#oe.bind(this)),e.addEventListener("drop",this.#de.bind(this)),document.addEventListener("nodeRemoved",this.#y()),document.addEventListener("nodeUpdated",(t=>{const n=t.detail.id,a=e.querySelector(`#feedlist .nav-list-item[data-id="${n}"]`);if(a){const e=a.querySelector(".title"),n=a.querySelector(".count"),i=a.querySelector(".icon");e.textContent!=t.detail.title&&(e.textContent=t.detail.title),n.textContent!=""+t.detail.unreadCount&&(n.textContent=t.detail.unreadCount),n.dataset.count=t.detail.unreadCount,i&&t.detail.icon&&i.src!=t.detail.icon&&(i.src=t.detail.icon)}else this.#y()})),document.addEventListener("sections-updated",this.#y),e.addEventListener("click",(e=>{var t=e.target;for(this.#se.focus();t&&(!t.classList||!t.classList.contains("nav-list-expander"));)t=t.parentNode;t&&(e.preventDefault(),t.parentNode.classList.toggle("active"))})),e.addEventListener("auxclick",(e=>{for(var t=e.target;t&&!t.classList.contains("nav-list-item");)t=t.parentNode;t&&t.classList.contains("nav-list-item")&&(e.preventDefault(),r.r.dispatch(`${t.dataset.type}:auxclick`,t.dataset))}))}#de(e){let t;e.preventDefault(),t=e.dataTransfer.getData("text/plain"),t||(t=e.dataTransfer.getData("text/x-moz-url")),t||(t=e.dataTransfer.getData("text/url-list")[0]),alert("Dropped URL: "+t),this.#se.classList.remove("drag-over")}#re(e){e.preventDefault(),this.#se.classList.add("drag-over")}#oe=()=>this.#se.classList.remove("drag-over");#y=async()=>o.dN(this.#se,c.#m,{tree:await s.w.getTree(),feedlist:i.f.root});static selectionChanged(e){const t=e.replace(/\/$/,"").replaceAll(/\//g,":::").replace(/:::Item:::[^:]*$/,"");try{const n=document.getElementById("sidebar");if(Array.from(n.getElementsByClassName("active")).forEach((e=>e.classList.remove("active"))),Array.from(n.getElementsByClassName("selected")).forEach((e=>e.classList.remove("selected"))),""===e)return;let a=t;for(;-1!==a.indexOf(":::");)Array.from(n.querySelectorAll(`li[data-path="${a}"]`)).forEach((e=>e.classList.add("active"))),a=a.replace(/:::[^:]*$/,"");const i=n.querySelector(`a[data-path="${t}"]`);i?.classList.add("active"),i?.classList.add("selected"),i?.scrollIntoView({block:"nearest"})}catch(e){console.error(`select "${t}" caused: ${e}`)}}}a()}catch(e){a(e)}}))},209:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CheatSheetRenderer:()=>s});var a=n(779),i=n(662);class s{static#ce=a.vs("\n        <div class='video'>\n            <a href='{{ href }}'>\n                <img src='https://i.ytimg.com/vi/{{ ytid }}/hqdefault.jpg'/>\n            </a>\n            <div class='title'>{{ title }}</div>\n            <div class='caption'>{{ caption }}</div>\n        </div>\n    ");static#le(e){const t=new RegExp("^https://www\\.youtube\\.com/watch\\?v=");e.querySelectorAll('a[href*="https://www.youtube.com/watch?v="]').forEach((e=>{const n=e.innerText.split(/---/);e.innerHTML=this.#ce({href:e.href,ytid:e.href.replace(t,""),title:n[0],caption:n[1]})}))}static async renderDocument(e,t){let n=encodeURI(t.baseUrl);if("link"===t.type&&(e.innerHTML=`Fetching content from <a href="${t.baseUrl}">${t.baseUrl}</a>...`,t.data=await fetch(n+"/"+t.baseName).then((e=>e.text()))),!t.data)return;let a="",s={};try{t.baseName?.match(/\.rst$/)?a=(await i.u.get("rst"))(t.data):t.baseName?.match(/\.(adoc|asciidoc)$/)?a=(await i.u.get("adoc")).convert(t.data):(t.data=t.data.replace(/(\[[^\]]+\])\(\//g,"$1("+n+"/"),a=(await i.u.get("md")).makeHtml(t.data),s=(await i.u.get("md")).getMetadata()),a=(await i.u.get("DOMPurify")).sanitize(a)}catch(e){console.error(e),a="ERROR: Content rendering error!"}return a=a.replace(/<img /g,'<img loading="lazy" '),e.innerHTML=a.replace(/(<img[^>]src=["'])\//g,"$1"+n+"/").replace(/(<img[^>]+src=["'])([^h:][^t][^t][^p])/g,"$1"+n+"/$2").replace(/(<a[^>]+href=["'])([^#h:][^t][^t][^p])/g,"$1"+n+"/$2"),"true"===s?.videoEmbed&&this.#le(e),await(await i.u.get("Mermaid")).run({querySelector:".main-content-view .mermaid"}),t}static async load(e,t){await this.renderDocument(e,t),-1==e.innerHTML.indexOf("<h1")&&e.insertAdjacentHTML("afterbegin",`<h1>${t.baseName.replace(/\.[^.]*$/,"")}</h1>`);var n=document.getElementsByTagName("h1")[0];n&&t&&(t?.editUrl&&(n.innerHTML+=`<button id='editBtn' title='Edit in Github' data-edit-url="${t.editUrl}" class="btn">Edit</button>`),t?.editUrl&&(document.getElementById("editBtn").onclick=e=>{window.open(e.target.dataset.editUrl,"_blank")}))}}},965:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PdfRenderer:()=>a}),n(662);class a{static async load(e,t){const n=await import("./vendor/pdf.mjs"),a=await import("./vendor/pdf_viewer/pdf_viewer.mjs");e.innerHTML='\n\t\t\t<div id="viewerContainer">\n\t\t\t\t<div id="viewer" class="pdfViewer"></div>\n\t\t\t</div>\n\t\t';const i=e.querySelector("#viewerContainer");i.style="position: absolute; width: 100%; height: 100%; overflow: auto;",n.GlobalWorkerOptions.workerSrc="vendor/pdf.worker.mjs";const s=t.baseUrl+"/"+t.baseName,r=new URL("vendor/pdf.sandbox.mjs",window.location),o=new a.EventBus,d=new a.PDFLinkService({eventBus:o}),c=new a.PDFFindController({eventBus:o,linkService:d}),l=new a.PDFScriptingManager({eventBus:o,sandboxBundleSrc:r}),u=new a.PDFViewer({container:i,eventBus:o,linkService:d,findController:c,scriptingManager:l});d.setViewer(u),l.setViewer(u),o.on("pagesinit",(function(){u.currentScaleValue="page-width"}));const h=n.getDocument({url:s,enableXfa:!0}),m=await h.promise;u.setDocument(m),d.setDocument(m,null)}}}},o={};function d(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={exports:{}};return r[e](n,n.exports,d),n.exports}d.m=r,e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",a=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},d.a=(i,s,r)=>{var o;r&&((o=[]).d=-1);var d,c,l,u=new Set,h=i.exports,m=new Promise(((e,t)=>{l=t,c=e}));m[t]=h,m[e]=e=>(o&&e(o),u.forEach(e),m.catch((e=>{}))),i.exports=m,s((i=>{var s;d=(i=>i.map((i=>{if(null!==i&&"object"==typeof i){if(i[e])return i;if(i.then){var s=[];s.d=0,i.then((e=>{r[t]=e,a(s)}),(e=>{r[n]=e,a(s)}));var r={};return r[e]=e=>e(s),r}}var o={};return o[e]=e=>{},o[t]=i,o})))(i);var r=()=>d.map((e=>{if(e[n])throw e[n];return e[t]})),c=new Promise((t=>{(s=()=>t(r)).r=0;var n=e=>e!==o&&!u.has(e)&&(u.add(e),e&&!e.d&&(s.r++,e.push(s)));d.map((t=>t[e](n)))}));return s.r?c:r()}),(e=>(e?l(m[n]=e):c(h),a(o)))),o&&o.d<0&&(o.d=0)},d.d=(e,t)=>{for(var n in t)d.o(t,n)&&!d.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},d.f={},d.e=e=>Promise.all(Object.keys(d.f).reduce(((t,n)=>(d.f[n](e,t),t)),[])),d.u=e=>"bundle-"+e+".js",d.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i={},s="lzone.de:",d.l=(e,t,n,a)=>{if(i[e])i[e].push(t);else{var r,o;if(void 0!==n)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var u=c[l];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==s+n){r=u;break}}r||(o=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,d.nc&&r.setAttribute("nonce",d.nc),r.setAttribute("data-webpack",s+n),r.src=e),i[e]=[t];var h=(t,n)=>{r.onerror=r.onload=null,clearTimeout(m);var a=i[e];if(delete i[e],r.parentNode&&r.parentNode.removeChild(r),a&&a.forEach((e=>e(n))),t)return t(n)},m=setTimeout(h.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=h.bind(null,r.onerror),r.onload=h.bind(null,r.onload),o&&document.head.appendChild(r)}},d.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.p="/js/bundle/",(()=>{var e={792:0};d.f.j=(t,n)=>{var a=d.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var i=new Promise(((n,i)=>a=e[t]=[n,i]));n.push(a[2]=i);var s=d.p+d.u(t),r=new Error;d.l(s,(n=>{if(d.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;r.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",r.name="ChunkLoadError",r.type=i,r.request=s,a[1](r)}}),"chunk-"+t,t)}};var t=(t,n)=>{var a,i,[s,r,o]=n,c=0;if(s.some((t=>0!==e[t]))){for(a in r)d.o(r,a)&&(d.m[a]=r[a]);o&&o(d)}for(t&&t(n);c<s.length;c++)i=s[c],d.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunklzone_de=self.webpackChunklzone_de||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),d(870)})();